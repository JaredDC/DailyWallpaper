version: 1.0.{build}
branches:
  only:
  - master
environment:
  STATIC_SITE_REPO: https://github.com/JaredDC/DailyWallpaperUI
  TARGET_BRANCH: master
  GIT_USER_EMAIL: jared.dcx@gmail.com
  GIT_USER_NAME: JaredDC
image: Visual Studio 2019
configuration: Release
platform: Any CPU
test: off
before_build:
- ps: >-
     nuget restore -verbosity detailed
build:
  parallel: true
  verbosity: minimal
after_build:
- cmd: >-
     echo https://www.appveyor.com/docs/environment-variables/
     7z a DailyWallpaper.7z %APPVEYOR_BUILD_FOLDER%\dailywallpaperui\DailyWallpaper\bin\Release
     cd /d %APPVEYOR_BUILD_FOLDER%\dailywallpaperui\DailyWallpaper\bin
     7z a DailyWallpaper.zip Release
artifacts:
- path: DailyWallpaper.7z
  name: DailyWallpaper-7z
- path: DailyWallpaper.zip
  name: DailyWallpaper-zip
- path: **\*.*
  name: KnowWhere

on_success:
    - echo succeed